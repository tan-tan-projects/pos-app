import{a as U,at as Nt,au as rt,g as ee,r as z,av as xt,d as c,aw as zt,w as E,L as Le,h as i,f as j,am as It,ax as Z,W as L,ay as Ut,az as Wt,aA as Kt,aB as Gt,aC as Yt,aD as Xt,aE as Jt,aF as We,aG as it,aH as Zt,aI as el,as as st,aJ as tl,ap as ut,aK as dt,aL as ll,u as ct,b as vt,aM as al,aN as nl,aO as Ke,aP as De,aQ as Ge,aR as ol,n as ft,aS as gt,aT as rl,i as Re,l as te,a8 as il,aq as Ve,_ as sl,m as ul,F as Y,q as F,x as C,t as k,p,R as Q,a3 as Be,T as ve,U as Ye,ae as Xe,B as X,C as le,H as x,al as Je,V as Ze,k as $e,y as Te,z as J,A as Fe,an as Ae,a9 as dl,I as cl,G as et,ar as vl,X as fl}from"./index-CbMuUJfe.js";import{Q as gl,a as bl,u as ml}from"./useView-CvjBwqDv.js";const yl=Object.keys(rt);function wl(e){return yl.reduce((l,n)=>{const d=e[n];return d!==void 0&&(l[n]=d),l},{})}const Sl=U({name:"QBtnDropdown",props:{...rt,...Nt,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:l,emit:n}){const{proxy:d}=ee(),r=z(e.modelValue),v=z(null),a=xt(),s=c(()=>{const g={"aria-expanded":r.value===!0?"true":"false","aria-haspopup":"true","aria-controls":a.value,"aria-label":e.toggleAriaLabel||d.$q.lang.label[r.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(g["aria-disabled"]="true"),g}),f=c(()=>"q-btn-dropdown__arrow"+(r.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),w=c(()=>zt(e)),o=c(()=>wl(e));E(()=>e.modelValue,g=>{v.value?.[g?"show":"hide"]()}),E(()=>e.split,D);function y(g){r.value=!0,n("beforeShow",g)}function P(g){n("show",g),n("update:modelValue",!0)}function _(g){r.value=!1,n("beforeHide",g)}function R(g){n("hide",g),n("update:modelValue",!1)}function q(g){n("click",g)}function h(g){Wt(g),D(),n("click",g)}function V(g){v.value?.toggle(g)}function A(g){v.value?.show(g)}function D(g){v.value?.hide(g)}return Object.assign(d,{show:A,hide:D,toggle:V}),Le(()=>{e.modelValue===!0&&A()}),()=>{const g=[i(j,{class:f.value,name:e.dropdownIcon||d.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&g.push(i(It,{ref:v,id:a.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:y,onShow:P,onBeforeHide:_,onHide:R},l.default)),e.split===!1?i(L,{class:"q-btn-dropdown q-btn-dropdown--simple",...o.value,...s.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:q},{default:()=>Z(l.label,[]).concat(g),loading:l.loading}):i(Ut,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...w.value,glossy:e.glossy,stretch:e.stretch},()=>[i(L,{class:"q-btn-dropdown--current",...o.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:h},{default:l.label,loading:l.loading}),i(L,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...s.value,...w.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>g)])}}}),Oe=U({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:n}){const d=ee(),{proxy:{$q:r}}=d,v=a=>{n("click",a)};return()=>{if(e.props===void 0)return i("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:v},Z(l.default));let a,s;const f=d.vnode.key;if(f){if(a=e.props.colsMap[f],a===void 0)return}else a=e.props.col;if(a.sortable===!0){const o=a.align==="right"?"unshift":"push";s=Kt(l.default,[]),s[o](i(j,{class:a.__iconClass,name:r.iconSet.table.arrowUp}))}else s=Z(l.default);const w={class:a.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:a.headerStyle,onClick:o=>{a.sortable===!0&&e.props.sort(a),v(o)}};return i("th",w,s)}}}),tt=U({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:l}){const n=c(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>i("tr",{style:e.props?.__trStyle,class:n.value},Z(l.default))}}),lt=U({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:l}){const n=ee(),d=c(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return i("td",{class:d.value},Z(l.default));const r=n.vnode.key,v=(e.props.colsMap!==void 0?e.props.colsMap[r]:null)||e.props.col;if(v===void 0)return;const{row:a}=e.props;return i("td",{class:d.value+v.__tdClass(a),style:v.__tdStyle(a)},Z(l.default))}}});function bt(e,l){return i("div",e,[i("table",{class:"q-table"},l)])}const hl={list:ut,table:tl},Cl=["list","table","__qtable"],ql=U({name:"QVirtualScroll",props:{...Yt,type:{type:String,default:"list",validator:e=>Cl.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Gt},setup(e,{slots:l,attrs:n}){let d;const r=z(null),v=c(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:a,localResetVirtualScroll:s,padVirtualScroll:f,onVirtualScrollEvt:w}=Xt({virtualScrollLength:v,getVirtualScrollTarget:R,getVirtualScrollEl:_}),o=c(()=>{if(v.value===0)return[];const A=(D,g)=>({index:a.value.from+g,item:D});return e.itemsFn===void 0?e.items.slice(a.value.from,a.value.to).map(A):e.itemsFn(a.value.from,a.value.to-a.value.from).map(A)}),y=c(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),P=c(()=>e.scrollTarget!==void 0?{}:{tabindex:0});E(v,()=>{s()}),E(()=>e.scrollTarget,()=>{h(),q()});function _(){return r.value.$el||r.value}function R(){return d}function q(){d=Jt(_(),e.scrollTarget),d.addEventListener("scroll",w,We.passive)}function h(){d!==void 0&&(d.removeEventListener("scroll",w,We.passive),d=void 0)}function V(){let A=f(e.type==="list"?"div":"tbody",o.value.map(l.default));return l.before!==void 0&&(A=l.before().concat(A)),dt(l.after,A)}return it(()=>{s()}),Le(()=>{q()}),Zt(()=>{q()}),el(()=>{h()}),st(()=>{h()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?bt({ref:r,class:"q-table__middle "+y.value},V()):i(hl[e.type],{...n,ref:r,class:[n.class,y.value],...P.value},V)}}}),kl={xs:2,sm:4,md:6,lg:10,xl:14};function at(e,l,n){return{transform:l===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const Pl=U({name:"QLinearProgress",props:{...ct,...ll,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:l}){const{proxy:n}=ee(),d=vt(e,n.$q),r=al(e,kl),v=c(()=>e.indeterminate===!0||e.query===!0),a=c(()=>e.reverse!==e.query),s=c(()=>({...r.value!==null?r.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),f=c(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),w=c(()=>at(e.buffer!==void 0?e.buffer:1,a.value,n.$q)),o=c(()=>`with${e.instantFeedback===!0?"out":""}-transition`),y=c(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${o.value} q-linear-progress__track--${d.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),P=c(()=>at(v.value===!0?1:e.value,a.value,n.$q)),_=c(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${o.value} q-linear-progress__model--${v.value===!0?"in":""}determinate`),R=c(()=>({width:`${e.value*100}%`})),q=c(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${o.value}`);return()=>{const h=[i("div",{class:y.value,style:w.value}),i("div",{class:_.value,style:P.value})];return e.stripe===!0&&v.value===!1&&h.push(i("div",{class:q.value,style:R.value})),i("div",{class:f.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},dt(l.default,h))}}});let ae=0;const _l={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Rl=["update:fullscreen","fullscreen"];function Bl(){const e=ee(),{props:l,emit:n,proxy:d}=e;let r,v,a;const s=z(!1);nl(e)===!0&&E(()=>d.$route.fullPath,()=>{l.noRouteFullscreenExit!==!0&&o()}),E(()=>l.fullscreen,y=>{s.value!==y&&f()}),E(s,y=>{n("update:fullscreen",y),n("fullscreen",y)});function f(){s.value===!0?o():w()}function w(){s.value!==!0&&(s.value=!0,a=d.$el.parentNode,a.replaceChild(v,d.$el),document.body.appendChild(d.$el),ae++,ae===1&&document.body.classList.add("q-body--fullscreen-mixin"),r={handler:o},Ke.add(r))}function o(){s.value===!0&&(r!==void 0&&(Ke.remove(r),r=void 0),a.replaceChild(d.$el,v),s.value=!1,ae=Math.max(0,ae-1),ae===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),d.$el.scrollIntoView!==void 0&&setTimeout(()=>{d.$el.scrollIntoView()})))}return it(()=>{v=document.createElement("span")}),Le(()=>{l.fullscreen===!0&&w()}),st(o),Object.assign(d,{toggleFullscreen:f,setFullscreen:w,exitFullscreen:o}),{inFullscreen:s,toggleFullscreen:f}}function $l(e,l){return new Date(e)-new Date(l)}const Tl={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Fl(e,l,n,d){const r=c(()=>{const{sortBy:s}=l.value;return s&&n.value.find(f=>f.name===s)||null}),v=c(()=>e.sortMethod!==void 0?e.sortMethod:(s,f,w)=>{const o=n.value.find(_=>_.name===f);if(o===void 0||o.field===void 0)return s;const y=w===!0?-1:1,P=typeof o.field=="function"?_=>o.field(_):_=>_[o.field];return s.sort((_,R)=>{let q=P(_),h=P(R);return o.rawSort!==void 0?o.rawSort(q,h,_,R)*y:q==null?-1*y:h==null?1*y:o.sort!==void 0?o.sort(q,h,_,R)*y:De(q)===!0&&De(h)===!0?(q-h)*y:Ge(q)===!0&&Ge(h)===!0?$l(q,h)*y:typeof q=="boolean"&&typeof h=="boolean"?(q-h)*y:([q,h]=[q,h].map(V=>(V+"").toLocaleString().toLowerCase()),q<h?-1*y:q===h?0:y)})});function a(s){let f=e.columnSortOrder;if(ol(s)===!0)s.sortOrder&&(f=s.sortOrder),s=s.name;else{const y=n.value.find(P=>P.name===s);y?.sortOrder&&(f=y.sortOrder)}let{sortBy:w,descending:o}=l.value;w!==s?(w=s,o=f==="da"):e.binaryStateSort===!0?o=!o:o===!0?f==="ad"?w=null:o=!1:f==="ad"?o=!0:w=null,d({sortBy:w,descending:o,page:1})}return{columnToSort:r,computedSortMethod:v,sort:a}}const Al={filter:[String,Object],filterMethod:Function};function Dl(e,l){const n=c(()=>e.filterMethod!==void 0?e.filterMethod:(d,r,v,a)=>{const s=r?r.toLowerCase():"";return d.filter(f=>v.some(w=>{const o=a(w,f)+"";return(o==="undefined"||o==="null"?"":o.toLowerCase()).indexOf(s)!==-1}))});return E(()=>e.filter,()=>{ft(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function Vl(e,l){for(const n in l)if(l[n]!==e[n])return!1;return!0}function nt(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Ol={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Ll(e,l){const{props:n,emit:d}=e,r=z(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),v=c(()=>{const o=n["onUpdate:pagination"]!==void 0?{...r.value,...n.pagination}:r.value;return nt(o)}),a=c(()=>v.value.rowsNumber!==void 0);function s(o){f({pagination:o,filter:n.filter})}function f(o={}){ft(()=>{d("request",{pagination:o.pagination||v.value,filter:o.filter||n.filter,getCellValue:l})})}function w(o,y){const P=nt({...v.value,...o});if(Vl(v.value,P)===!0){a.value===!0&&y===!0&&s(P);return}if(a.value===!0){s(P);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?d("update:pagination",P):r.value=P}return{innerPagination:r,computedPagination:v,isServerSide:a,requestServerInteraction:f,setPagination:w}}function pl(e,l,n,d,r,v){const{props:a,emit:s,proxy:{$q:f}}=e,w=c(()=>d.value===!0?n.value.rowsNumber||0:v.value),o=c(()=>{const{page:g,rowsPerPage:O}=n.value;return(g-1)*O}),y=c(()=>{const{page:g,rowsPerPage:O}=n.value;return g*O}),P=c(()=>n.value.page===1),_=c(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(w.value/n.value.rowsPerPage))),R=c(()=>y.value===0?!0:n.value.page>=_.value),q=c(()=>(a.rowsPerPageOptions.includes(l.value.rowsPerPage)?a.rowsPerPageOptions:[l.value.rowsPerPage].concat(a.rowsPerPageOptions)).map(O=>({label:O===0?f.lang.table.allRows:""+O,value:O})));E(_,(g,O)=>{if(g===O)return;const ne=n.value.page;g&&!ne?r({page:1}):g<ne&&r({page:g})});function h(){r({page:1})}function V(){const{page:g}=n.value;g>1&&r({page:g-1})}function A(){const{page:g,rowsPerPage:O}=n.value;y.value>0&&g*O<w.value&&r({page:g+1})}function D(){r({page:_.value})}return a["onUpdate:pagination"]!==void 0&&s("update:pagination",{...n.value}),{firstRowIndex:o,lastRowIndex:y,isFirstPage:P,isLastPage:R,pagesNumber:_,computedRowsPerPageOptions:q,computedRowsNumber:w,firstPage:h,prevPage:V,nextPage:A,lastPage:D}}const Ml={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Ql=["update:selected","selection"];function El(e,l,n,d){const r=c(()=>{const R={};return e.selected.map(d.value).forEach(q=>{R[q]=!0}),R}),v=c(()=>e.selection!=="none"),a=c(()=>e.selection==="single"),s=c(()=>e.selection==="multiple"),f=c(()=>n.value.length!==0&&n.value.every(R=>r.value[d.value(R)]===!0)),w=c(()=>f.value!==!0&&n.value.some(R=>r.value[d.value(R)]===!0)),o=c(()=>e.selected.length);function y(R){return r.value[R]===!0}function P(){l("update:selected",[])}function _(R,q,h,V){l("selection",{rows:q,added:h,keys:R,evt:V});const A=a.value===!0?h===!0?q:[]:h===!0?e.selected.concat(q):e.selected.filter(D=>R.includes(d.value(D))===!1);l("update:selected",A)}return{hasSelectionMode:v,singleSelection:a,multipleSelection:s,allRowsSelected:f,someRowsSelected:w,rowsSelectedNumber:o,isRowSelected:y,clearSelection:P,updateSelection:_}}function ot(e){return Array.isArray(e)?e.slice():[]}const Hl={expanded:Array},jl=["update:expanded"];function Nl(e,l){const n=z(ot(e.expanded));E(()=>e.expanded,a=>{n.value=ot(a)});function d(a){return n.value.includes(a)}function r(a){e.expanded!==void 0?l("update:expanded",a):n.value=a}function v(a,s){const f=n.value.slice(),w=f.indexOf(a);s===!0?w===-1&&(f.push(a),r(f)):w!==-1&&(f.splice(w,1),r(f))}return{isRowExpanded:d,setExpanded:r,updateExpanded:v}}const xl={visibleColumns:Array};function zl(e,l,n){const d=c(()=>{if(e.columns!==void 0)return e.columns;const s=e.rows[0];return s!==void 0?Object.keys(s).map(f=>({name:f,label:f.toUpperCase(),field:f,align:De(s[f])?"right":"left",sortable:!0})):[]}),r=c(()=>{const{sortBy:s,descending:f}=l.value;return(e.visibleColumns!==void 0?d.value.filter(o=>o.required===!0||e.visibleColumns.includes(o.name)===!0):d.value).map(o=>{const y=o.align||"right",P=`text-${y}`;return{...o,align:y,__iconClass:`q-table__sort-icon q-table__sort-icon--${y}`,__thClass:P+(o.headerClasses!==void 0?" "+o.headerClasses:"")+(o.sortable===!0?" sortable":"")+(o.name===s?` sorted ${f===!0?"sort-desc":""}`:""),__tdStyle:o.style!==void 0?typeof o.style!="function"?()=>o.style:o.style:()=>null,__tdClass:o.classes!==void 0?typeof o.classes!="function"?()=>P+" "+o.classes:_=>P+" "+o.classes(_):()=>P}})}),v=c(()=>{const s={};return r.value.forEach(f=>{s[f.name]=f}),s}),a=c(()=>e.tableColspan!==void 0?e.tableColspan:r.value.length+(n.value===!0?1:0));return{colList:d,computedCols:r,computedColsMap:v,computedColspan:a}}const fe="q-table__bottom row items-center",mt={};gt.forEach(e=>{mt[e]={}});const Il=U({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...mt,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...ct,..._l,...xl,...Al,...Ol,...Hl,...Ml,...Tl},emits:["request","virtualScroll",...Rl,...jl,...Ql],setup(e,{slots:l,emit:n}){const d=ee(),{proxy:{$q:r}}=d,v=vt(e,r),{inFullscreen:a,toggleFullscreen:s}=Bl(),f=c(()=>typeof e.rowKey=="function"?e.rowKey:t=>t[e.rowKey]),w=z(null),o=z(null),y=c(()=>e.grid!==!0&&e.virtualScroll===!0),P=c(()=>" q-table__card"+(v.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),_=c(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":P.value)+(v.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(a.value===!0?" fullscreen scroll":"")),R=c(()=>_.value+(e.loading===!0?" q-table--loading":""));E(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+_.value,()=>{y.value===!0&&o.value?.reset()});const{innerPagination:q,computedPagination:h,isServerSide:V,requestServerInteraction:A,setPagination:D}=Ll(d,K),{computedFilterMethod:g}=Dl(e,D),{isRowExpanded:O,setExpanded:ne,updateExpanded:yt}=Nl(e,n),ge=c(()=>{let t=e.rows;if(V.value===!0||t.length===0)return t;const{sortBy:u,descending:b}=h.value;return e.filter&&(t=g.value(t,e.filter,H.value,K)),qt.value!==null&&(t=kt.value(e.rows===t?t.slice():t,u,b)),t}),pe=c(()=>ge.value.length),N=c(()=>{let t=ge.value;if(V.value===!0)return t;const{rowsPerPage:u}=h.value;return u!==0&&(re.value===0&&e.rows!==t?t.length>ie.value&&(t=t.slice(0,ie.value)):t=t.slice(re.value,ie.value)),t}),{hasSelectionMode:W,singleSelection:wt,multipleSelection:Me,allRowsSelected:St,someRowsSelected:Qe,rowsSelectedNumber:be,isRowSelected:me,clearSelection:ht,updateSelection:oe}=El(e,n,N,f),{colList:Ct,computedCols:H,computedColsMap:Ee,computedColspan:He}=zl(e,h,W),{columnToSort:qt,computedSortMethod:kt,sort:ye}=Fl(e,h,Ct,D),{firstRowIndex:re,lastRowIndex:ie,isFirstPage:we,isLastPage:Se,pagesNumber:se,computedRowsPerPageOptions:Pt,computedRowsNumber:ue,firstPage:he,prevPage:Ce,nextPage:qe,lastPage:ke}=pl(d,q,h,V,D,pe),_t=c(()=>N.value.length===0),Rt=c(()=>{const t={};return gt.forEach(u=>{t[u]=e[u]}),t.virtualScrollItemSize===void 0&&(t.virtualScrollItemSize=e.dense===!0?28:48),t});function Bt(){y.value===!0&&o.value.reset()}function $t(){if(e.grid===!0)return Ht();const t=e.hideHeader!==!0?Ie:null;if(y.value===!0){const b=l["top-row"],m=l["bottom-row"],S={default:T=>Ne(T.item,l.body,T.index)};if(b!==void 0){const T=i("tbody",b({cols:H.value}));S.before=t===null?()=>T:()=>[t()].concat(T)}else t!==null&&(S.before=t);return m!==void 0&&(S.after=()=>i("tbody",m({cols:H.value}))),i(ql,{ref:o,class:e.tableClass,style:e.tableStyle,...Rt.value,scrollTarget:e.virtualScrollTarget,items:N.value,type:"__qtable",tableColspan:He.value,onVirtualScroll:Ft},S)}const u=[At()];return t!==null&&u.unshift(t()),bt({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},u)}function Tt(t,u){if(o.value!==null){o.value.scrollTo(t,u);return}t=parseInt(t,10);const b=w.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(b!==null){const m=w.value.querySelector(".q-table__middle.scroll"),S=b.offsetTop-e.virtualScrollStickySizeStart,T=S<m.scrollTop?"decrease":"increase";m.scrollTop=S,n("virtualScroll",{index:t,from:0,to:q.value.rowsPerPage-1,direction:T})}}function Ft(t){n("virtualScroll",t)}function je(){return[i(Pl,{class:"q-table__linear-progress",color:e.color,dark:v.value,indeterminate:!0,trackColor:"transparent"})]}function Ne(t,u,b){const m=f.value(t),S=me(m);if(u!==void 0){const $={key:m,row:t,pageIndex:b,__trClass:S?"selected":""};if(e.tableRowStyleFn!==void 0&&($.__trStyle=e.tableRowStyleFn(t)),e.tableRowClassFn!==void 0){const I=e.tableRowClassFn(t);I&&($.__trClass=`${I} ${$.__trClass}`)}return u(xe($))}const T=l["body-cell"],B=H.value.map($=>{const I=l[`body-cell-${$.name}`],ce=I!==void 0?I:T;return ce!==void 0?ce(Dt({key:m,row:t,pageIndex:b,col:$})):i("td",{class:$.__tdClass(t),style:$.__tdStyle(t)},K($,t))});if(W.value===!0){const $=l["body-selection"],I=$!==void 0?$(Vt({key:m,row:t,pageIndex:b})):[i(Re,{modelValue:S,color:e.color,dark:v.value,dense:e.dense,"onUpdate:modelValue":(ce,jt)=>{oe([m],[t],ce,jt)}})];B.unshift(i("td",{class:"q-table--col-auto-width"},I))}const M={key:m,class:{selected:S}};if(e.onRowClick!==void 0&&(M.class["cursor-pointer"]=!0,M.onClick=$=>{n("rowClick",$,t,b)}),e.onRowDblclick!==void 0&&(M.class["cursor-pointer"]=!0,M.onDblclick=$=>{n("rowDblclick",$,t,b)}),e.onRowContextmenu!==void 0&&(M.class["cursor-pointer"]=!0,M.onContextmenu=$=>{n("rowContextmenu",$,t,b)}),e.tableRowStyleFn!==void 0&&(M.style=e.tableRowStyleFn(t)),e.tableRowClassFn!==void 0){const $=e.tableRowClassFn(t);$&&(M.class[$]=!0)}return i("tr",M,B)}function At(){const t=l.body,u=l["top-row"],b=l["bottom-row"];let m=N.value.map((S,T)=>Ne(S,t,T));return u!==void 0&&(m=u({cols:H.value}).concat(m)),b!==void 0&&(m=m.concat(b({cols:H.value}))),i("tbody",m)}function xe(t){return Pe(t),t.cols=t.cols.map(u=>te({...u},"value",()=>K(u,t.row))),t}function Dt(t){return Pe(t),te(t,"value",()=>K(t.col,t.row)),t}function Vt(t){return Pe(t),t}function Pe(t){Object.assign(t,{cols:H.value,colsMap:Ee.value,sort:ye,rowIndex:re.value+t.pageIndex,color:e.color,dark:v.value,dense:e.dense}),W.value===!0&&te(t,"selected",()=>me(t.key),(u,b)=>{oe([t.key],[t.row],u,b)}),te(t,"expand",()=>O(t.key),u=>{yt(t.key,u)})}function K(t,u){const b=typeof t.field=="function"?t.field(u):u[t.field];return t.format!==void 0?t.format(b,u):b}const G=c(()=>({pagination:h.value,pagesNumber:se.value,isFirstPage:we.value,isLastPage:Se.value,firstPage:he,prevPage:Ce,nextPage:qe,lastPage:ke,inFullscreen:a.value,toggleFullscreen:s}));function Ot(){const t=l.top,u=l["top-left"],b=l["top-right"],m=l["top-selection"],S=W.value===!0&&m!==void 0&&be.value>0,T="q-table__top relative-position row items-center";if(t!==void 0)return i("div",{class:T},[t(G.value)]);let B;if(S===!0?B=m(G.value).slice():(B=[],u!==void 0?B.push(i("div",{class:"q-table__control"},[u(G.value)])):e.title&&B.push(i("div",{class:"q-table__control"},[i("div",{class:["q-table__title",e.titleClass]},e.title)]))),b!==void 0&&(B.push(i("div",{class:"q-table__separator col"})),B.push(i("div",{class:"q-table__control"},[b(G.value)]))),B.length!==0)return i("div",{class:T},B)}const ze=c(()=>Qe.value===!0?null:St.value);function Ie(){const t=Lt();return e.loading===!0&&l.loading===void 0&&t.push(i("tr",{class:"q-table__progress"},[i("th",{class:"relative-position",colspan:He.value},je())])),i("thead",t)}function Lt(){const t=l.header,u=l["header-cell"];if(t!==void 0)return t(_e({header:!0})).slice();const b=H.value.map(m=>{const S=l[`header-cell-${m.name}`],T=S!==void 0?S:u,B=_e({col:m});return T!==void 0?T(B):i(Oe,{key:m.name,props:B},()=>m.label)});if(wt.value===!0&&e.grid!==!0)b.unshift(i("th",{class:"q-table--col-auto-width"}," "));else if(Me.value===!0){const m=l["header-selection"],S=m!==void 0?m(_e({})):[i(Re,{color:e.color,modelValue:ze.value,dark:v.value,dense:e.dense,"onUpdate:modelValue":Ue})];b.unshift(i("th",{class:"q-table--col-auto-width"},S))}return[i("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},b)]}function _e(t){return Object.assign(t,{cols:H.value,sort:ye,colsMap:Ee.value,color:e.color,dark:v.value,dense:e.dense}),Me.value===!0&&te(t,"selected",()=>ze.value,Ue),t}function Ue(t){Qe.value===!0&&(t=!1),oe(N.value.map(f.value),N.value,t)}const de=c(()=>{const t=[e.iconFirstPage||r.iconSet.table.firstPage,e.iconPrevPage||r.iconSet.table.prevPage,e.iconNextPage||r.iconSet.table.nextPage,e.iconLastPage||r.iconSet.table.lastPage];return r.lang.rtl===!0?t.reverse():t});function pt(){if(e.hideBottom===!0)return;if(_t.value===!0){if(e.hideNoData===!0)return;const b=e.loading===!0?e.loadingLabel||r.lang.table.loading:e.filter?e.noResultsLabel||r.lang.table.noResults:e.noDataLabel||r.lang.table.noData,m=l["no-data"],S=m!==void 0?[m({message:b,icon:r.iconSet.table.warning,filter:e.filter})]:[i(j,{class:"q-table__bottom-nodata-icon",name:r.iconSet.table.warning}),b];return i("div",{class:fe+" q-table__bottom--nodata"},S)}const t=l.bottom;if(t!==void 0)return i("div",{class:fe},[t(G.value)]);const u=e.hideSelectedBanner!==!0&&W.value===!0&&be.value>0?[i("div",{class:"q-table__control"},[i("div",[(e.selectedRowsLabel||r.lang.table.selectedRecords)(be.value)])])]:[];if(e.hidePagination!==!0)return i("div",{class:fe+" justify-end"},Qt(u));if(u.length!==0)return i("div",{class:fe},u)}function Mt(t){D({page:1,rowsPerPage:t.value})}function Qt(t){let u;const{rowsPerPage:b}=h.value,m=e.paginationLabel||r.lang.table.pagination,S=l.pagination,T=e.rowsPerPageOptions.length>1;if(t.push(i("div",{class:"q-table__separator col"})),T===!0&&t.push(i("div",{class:"q-table__control"},[i("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||r.lang.table.recordsPerPage]),i(il,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:b,options:Pt.value,displayValue:b===0?r.lang.table.allRows:b,dark:v.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Mt})])),S!==void 0)u=S(G.value);else if(u=[i("span",b!==0?{class:"q-table__bottom-item"}:{},[b?m(re.value+1,Math.min(ie.value,ue.value),ue.value):m(1,pe.value,ue.value)])],b!==0&&se.value>1){const B={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(B.size="sm"),se.value>2&&u.push(i(L,{key:"pgFirst",...B,icon:de.value[0],disable:we.value,"aria-label":r.lang.pagination.first,onClick:he})),u.push(i(L,{key:"pgPrev",...B,icon:de.value[1],disable:we.value,"aria-label":r.lang.pagination.prev,onClick:Ce}),i(L,{key:"pgNext",...B,icon:de.value[2],disable:Se.value,"aria-label":r.lang.pagination.next,onClick:qe})),se.value>2&&u.push(i(L,{key:"pgLast",...B,icon:de.value[3],disable:Se.value,"aria-label":r.lang.pagination.last,onClick:ke}))}return t.push(i("div",{class:"q-table__control"},u)),t}function Et(){const t=e.gridHeader===!0?[i("table",{class:"q-table"},[Ie()])]:e.loading===!0&&l.loading===void 0?je():void 0;return i("div",{class:"q-table__middle"},t)}function Ht(){const t=l.item!==void 0?l.item:u=>{const b=u.cols.map(S=>i("div",{class:"q-table__grid-item-row"},[i("div",{class:"q-table__grid-item-title"},[S.label]),i("div",{class:"q-table__grid-item-value"},[S.value])]));if(W.value===!0){const S=l["body-selection"],T=S!==void 0?S(u):[i(Re,{modelValue:u.selected,color:e.color,dark:v.value,dense:e.dense,"onUpdate:modelValue":(B,M)=>{oe([u.key],[u.row],B,M)}})];b.unshift(i("div",{class:"q-table__grid-item-row"},T),i(Ve,{dark:v.value}))}const m={class:["q-table__grid-item-card"+P.value,e.cardClass],style:e.cardStyle};if(e.cardStyleFn!==void 0&&(m.style=[m.style,e.cardStyleFn(u.row)]),e.cardClassFn!==void 0){const S=e.cardClassFn(u.row);S&&(m.class[0]+=` ${S}`)}return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(m.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(m.onClick=S=>{n("RowClick",S,u.row,u.pageIndex)}),e.onRowDblclick!==void 0&&(m.onDblclick=S=>{n("RowDblclick",S,u.row,u.pageIndex)}),e.onRowContextmenu!==void 0&&(m.onContextmenu=S=>{n("rowContextmenu",S,u.row,u.pageIndex)})),i("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(u.selected===!0?" q-table__grid-item--selected":"")},[i("div",m,b)])};return i("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},N.value.map((u,b)=>t(xe({key:f.value(u),row:u,pageIndex:b}))))}return Object.assign(d.proxy,{requestServerInteraction:A,setPagination:D,firstPage:he,prevPage:Ce,nextPage:qe,lastPage:ke,isRowSelected:me,clearSelection:ht,isRowExpanded:O,setExpanded:ne,sort:ye,resetVirtualScroll:Bt,scrollTo:Tt,getCellValue:K}),rl(d.proxy,{filteredSortedRows:()=>ge.value,computedRows:()=>N.value,computedRowsNumber:()=>ue.value}),()=>{const t=[Ot()],u={ref:w,class:R.value};return e.grid===!0?t.push(Et()):Object.assign(u,{class:[u.class,e.cardClass],style:e.cardStyle}),t.push($t(),pt()),e.loading===!0&&l.loading!==void 0&&t.push(l.loading()),i("div",u,t)}}}),Ul=ul({name:"DestopView",props:{title:{type:String,default:"Default View"},icon:{type:String,default:"table_chart"},rows:{type:Array,required:!0,default:()=>[]},rowKey:{type:String,required:!0,default:"id"},columns:{type:Array,required:!0,default:()=>[]},pagination:{type:Object,required:!0,default:()=>({page:1,rowsNumber:0,rowsPerPage:25,sortBy:"createdAt",descending:!0})},defaultHeader:{type:Boolean,default:!0},showPeriod:{type:Boolean,default:!0},showTotalAmount:{type:Boolean,default:!1},defaultAction:{type:Boolean,default:!0},showDeleted:{type:Boolean,default:!1}},emits:["action","request","update:pagination","update:search","update:filter"],setup(e,{emit:l}){return{...ml(e,l)}}}),Wl={class:"row full-width items-center"},Kl={class:"row col-md-9 col-sm-12"},Gl={class:"text-h6 q-ma-sm"},Yl={key:0},Xl={class:"text-subtitle2"},Jl={class:"column items-center"},Zl={key:0,class:"q-gutter-sm"};function ea(e,l,n,d,r,v){return F(),Y(ve,null,[C(Il,{dark:"",flat:"",bordered:"",class:"fit glasses-background view-table",rows:e.rows,"row-key":e.rowKey,columns:e.columns,"binary-state-sort":"",loading:e.loading,"rows-per-page-options":[25,50,100,200,400,800,0],dense:"",pagination:e.model,"onUpdate:pagination":l[8]||(l[8]=a=>e.model=a),"virtual-scroll":"",onRequest:e.onRequest},{top:k(()=>[x("div",Wl,[x("div",Kl,[C(j,{class:"q-ma-sm",name:e.icon,size:"md"},null,8,["name"]),x("h2",Gl,le(e.title),1),C(Je),e.defaultHeader?(F(),p(Ze,{key:0,class:"q-gutter-sm"},{default:k(()=>[C(L,{rounded:["md","lg","xl"].includes(e.$q.screen.name),round:e.$q.screen.sm,outline:"",icon:"add",size:"md",label:e.$q.screen.sm?"":"Add",onClick:l[0]||(l[0]=a=>e.onAction("add"))},null,8,["rounded","round","label"]),C(Sl,{rounded:"",outline:"",icon:"print",label:e.$q.screen.sm?"":"Export","dropdown-icon":e.$q.screen.sm?"":"move_down"},{default:k(()=>[C(ut,null,{default:k(()=>[$e((F(),p(Te,{clickable:"",onClick:l[1]||(l[1]=a=>e.onAction("print-pdf",{period:e.filter,search:e.search}))},{default:k(()=>[C(J,{side:""},{default:k(()=>[C(j,{name:"cloud_download",color:"primary"})]),_:1}),C(J,null,{default:k(()=>[C(Fe,null,{default:k(()=>[...l[13]||(l[13]=[X("Pdf",-1)])]),_:1})]),_:1})]),_:1})),[[Ae]]),$e((F(),p(Te,{clickable:"",onClick:l[2]||(l[2]=a=>e.onAction("print-excel",{period:e.filter,search:e.search}))},{default:k(()=>[C(J,{side:""},{default:k(()=>[C(j,{name:"cloud_download",color:"primary"})]),_:1}),C(J,null,{default:k(()=>[C(Fe,null,{default:k(()=>[...l[14]||(l[14]=[X("Excel",-1)])]),_:1})]),_:1})]),_:1})),[[Ae]]),$e((F(),p(Te,{clickable:"",onClick:l[3]||(l[3]=a=>e.onAction("print-csv",{period:e.filter,search:e.search}))},{default:k(()=>[C(J,{side:""},{default:k(()=>[C(j,{name:"cloud_download",color:"primary"})]),_:1}),C(J,null,{default:k(()=>[C(Fe,null,{default:k(()=>[...l[15]||(l[15]=[X("CSV",-1)])]),_:1})]),_:1})]),_:1})),[[Ae]])]),_:1})]),_:1},8,["label","dropdown-icon"]),e.showPeriod?(F(),p(L,{key:0,rounded:"",outline:"",icon:"event",onClick:l[4]||(l[4]=a=>e.dialog=!0)})):Q("",!0)]),_:1})):Q("",!0),e.$slots.header?Be(e.$slots,"header",{key:1,class:"q-ma-sm"},void 0,!0):Q("",!0)]),C(dl,{class:"col-md-3 col-sm-12",dense:"",outlined:"",color:"white","bg-color":"white",placeholder:"Search",modelValue:e.search,"onUpdate:modelValue":l[6]||(l[6]=a=>e.search=a)},{append:k(()=>[e.search===""?(F(),p(j,{key:0,name:"search"})):(F(),p(j,{key:1,name:"clear",class:"cursor-pointer",onClick:l[5]||(l[5]=a=>e.search="")}))]),_:1},8,["modelValue"])]),e.showPeriod?(F(),Y("div",Yl,[x("span",{class:Xe(e.$q.screen.sm?"text-caption text-weight-medium q-ma-sm":"text-subtitle2 q-ma-sm")},"Period: "+le(e.formattedPeriod),3),e.formattedPeriod!=="ALL"?(F(),p(L,{key:0,color:"negative",flat:"",round:"",size:"12px",icon:"close",onClick:l[7]||(l[7]=a=>(e.filter.period={from:null,to:null},e.onDateChange(null)))})):Q("",!0)])):Q("",!0),e.showTotalAmount?(F(),Y(ve,{key:1},[C(Je),x("span",Xl,"Total Amount: Rp"+le(e.totalAmount.toLocaleString()),1)],64)):Q("",!0)]),loading:k(()=>[C(gl,{showing:""},{default:k(()=>[x("div",Jl,[C(bl,{color:"dark",size:"4em"}),l[16]||(l[16]=x("div",{class:"text-dark q-mt-sm",style:{"font-size":"1.1em"}},"Please wait...",-1))])]),_:1})]),header:k(a=>[C(tt,{props:a},{default:k(()=>[e.defaultAction||!e.defaultAction&&e.$slots.action?(F(),p(Oe,{key:0},{default:k(()=>[...l[17]||(l[17]=[X("Action",-1)])]),_:1})):Q("",!0),(F(!0),Y(ve,null,Ye(a.cols,s=>(F(),p(Oe,{key:s.name,props:a},{default:k(()=>[X(le(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:k(a=>[C(tt,{props:a},{default:k(()=>[e.defaultAction||!e.defaultAction&&e.$slots.action?(F(),p(lt,{key:0,"auto-width":"",align:"left"},{default:k(()=>[e.defaultAction?(F(),Y("div",Zl,[e.$slots.action?Be(e.$slots,"action",{key:0,props:a.row},void 0,!0):Q("",!0),C(L,{round:"",outline:"",icon:"visibility",color:"white","text-color":"info",size:"sm",onClick:s=>e.onAction("show",a.row)},null,8,["onClick"]),e.$props.showDeleted||a.row.id&&(a.row.status==="Draft"||a.row.level===0)?(F(),p(L,{key:1,round:"",outline:"",icon:"delete",color:"white","text-color":"negative",size:"sm",onClick:s=>e.onAction("delete",a.row)},null,8,["onClick"])):Q("",!0)])):Q("",!0)]),_:2},1024)):Q("",!0),(F(!0),Y(ve,null,Ye(a.cols,s=>(F(),p(lt,{key:s.name,props:a,class:Xe(s.class?typeof s.class=="function"?s.class(a.row):s.class:"q-gutter-sm")},{default:k(()=>[Be(e.$slots,s.name,{row:a.row},()=>[X(le(s.value),1)],!0)]),_:2},1032,["props","class"]))),128))]),_:2},1032,["props"])]),_:3},8,["rows","row-key","columns","loading","pagination","onRequest"]),C(fl,{modelValue:e.dialog,"onUpdate:modelValue":l[12]||(l[12]=a=>e.dialog=a),persistent:""},{default:k(()=>[C(cl,{style:{"min-width":"300px"}},{default:k(()=>[C(et,null,{default:k(()=>[...l[18]||(l[18]=[x("div",{class:"text-h6"},"Select Periode",-1)])]),_:1}),C(Ve),C(et,{class:"q-pa-none"},{default:k(()=>[C(vl,{modelValue:e.filter.period,"onUpdate:modelValue":l[9]||(l[9]=a=>e.filter.period=a),range:!0,mask:"YYYY-MM-DD","today-btn":"",flat:"",minimal:""},null,8,["modelValue"])]),_:1}),C(Ve),C(Ze,{align:"right"},{default:k(()=>[C(L,{flat:"",label:"Cancel",color:"negative",onClick:l[10]||(l[10]=a=>(e.filter.period={from:null,to:null},e.onDateChange(null)))}),C(L,{flat:"",label:"OK",color:"primary",onClick:l[11]||(l[11]=a=>e.onDateChange(e.filter.period))})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const aa=sl(Ul,[["render",ea],["__scopeId","data-v-2d598e48"]]);export{aa as default};
