import{a as C,aU as H,aV as L,h as f,at as D,u as M,b as z,g as A,aW as Q,d as y,a2 as $,Q as q,D as N,r as o,w as b}from"./index-CiMlwVHq.js";const Y='<g><path fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10" d="M58.4,51.7c-0.9-0.9-1.4-2-1.4-2.3s0.5-0.4,1.4-1.4 C70.8,43.8,79.8,30.5,80,15.5H70H30H20c0.2,15,9.2,28.1,21.6,32.3c0.9,0.9,1.4,1.2,1.4,1.5s-0.5,1.6-1.4,2.5 C29.2,56.1,20.2,69.5,20,85.5h10h40h10C79.8,69.5,70.8,55.9,58.4,51.7z"></path><clipPath id="uil-hourglass-clip1"><rect x="15" y="20" width="70" height="25"><animate attributeName="height" from="25" to="0" dur="1s" repeatCount="indefinite" values="25;0;0" keyTimes="0;0.5;1"></animate><animate attributeName="y" from="20" to="45" dur="1s" repeatCount="indefinite" values="20;45;45" keyTimes="0;0.5;1"></animate></rect></clipPath><clipPath id="uil-hourglass-clip2"><rect x="15" y="55" width="70" height="25"><animate attributeName="height" from="0" to="25" dur="1s" repeatCount="indefinite" values="0;25;25" keyTimes="0;0.5;1"></animate><animate attributeName="y" from="80" to="55" dur="1s" repeatCount="indefinite" values="80;55;55" keyTimes="0;0.5;1"></animate></rect></clipPath><path d="M29,23c3.1,11.4,11.3,19.5,21,19.5S67.9,34.4,71,23H29z" clip-path="url(#uil-hourglass-clip1)" fill="currentColor"></path><path d="M71.6,78c-3-11.6-11.5-20-21.5-20s-18.5,8.4-21.5,20H71.6z" clip-path="url(#uil-hourglass-clip2)" fill="currentColor"></path><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="180 50 50" repeatCount="indefinite" dur="1s" values="0 50 50;0 50 50;180 50 50" keyTimes="0;0.7;1"></animateTransform></g>',O=C({name:"QSpinnerHourglass",props:H,setup(t){const{cSize:i,classes:s}=L(t);return()=>f("svg",{class:s.value,width:i.value,height:i.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:Y})}}),_=C({name:"QInnerLoading",props:{...M,...D,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(t,{slots:i}){const s=A(),r=z(t,s.proxy.$q),{transitionProps:m,transitionStyle:l}=Q(t),u=y(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(r.value===!0?" q-inner-loading--dark":"")),a=y(()=>"q-inner-loading__label"+(t.labelClass!==void 0?` ${t.labelClass}`:""));function p(){const g=[f(q,{size:t.size,color:t.color})];return t.label!==void 0&&g.push(f("div",{class:a.value,style:t.labelStyle},[t.label])),g}function c(){return t.showing===!0?f("div",{class:u.value,style:l.value},i.default!==void 0?i.default():p()):null}return()=>f($,m.value,c)}});function j(t,i){const{$date:s}=N(),r=o({...t.pagination}),m=o(!1),l=o(""),u=o(!1),a=o({period:{from:null,to:null}}),p=o(null),c=(e,n=600)=>{clearTimeout(p.value),p.value=setTimeout(()=>{u.value=!0,e()},n)},g=()=>u.value=!1;b(()=>t.rows,()=>g());const d=o("ALL"),w=()=>{const e=a.value?.period;if(!e||!e.from&&!e.to)return d.value="ALL";const{from:n,to:v}=e,h=x=>s.formatDate(x,"DD/MM/YYYY");if(n&&!v)return d.value=`On ${h(n)}`;if(n===v)return d.value=`On ${h(n)}`;d.value=`${h(n)} - ${h(v)}`},T=e=>{(!a.value.period||typeof a.value.period!="object")&&(a.value.period={from:null,to:null}),e?typeof e=="string"?(a.value.period.from=e,a.value.period.to=null):e.from&&e.to&&(a.value.period.from=e.from,a.value.period.to=e.to):a.value.period={from:null,to:null},m.value=!1,c(()=>{i("update:filter",{pagination:{...r.value,search:l.value,filter:a.value}})}),w()};b(()=>l.value,e=>{c(()=>{i("update:search",{pagination:{...r.value,search:e,filter:a.value}})})});const S=e=>{e.pagination&&c(()=>{i("update:pagination",{pagination:{...e.pagination,search:l.value,filter:a.value}})})},k=y(()=>{if(t.showTotalAmount)return t.rows.reduce((e,n)=>e+n.total_amount,0)||0}),P=(e,n)=>{i("action",{flag:e,arg:n})};return b(()=>t.pagination,e=>{e&&(r.value=e)}),{model:r,filter:a,dialog:m,search:l,loading:u,formattedPeriod:d,onDateChange:T,totalAmount:k,onAction:P,onRequest:S}}export{_ as Q,O as a,j as u};
